---
# Page settings
layout: default
keywords:
comments: false

# Hero section
title: マーカーをカスタマイズ
description: Geolonia の地図のスタイルをカスタマイズする方法を紹介します。

# Author box
# author:
#     title: About Author
#     title_url: '#'
#     external_url: true
#     description: Author description

# Micro navigation
micro_nav: true

# Page navigation
page_nav:
    prev:
        content: 地図のコントロールをカスタマイズ
        url: '/tutorial/006/'
    next:
        content: GeoJSON で複数のマーカーを表示
        url: '/tutorial/008/'

breadcrumbs:
    - title: チュートリアル
      url: /tutorial/
    - title: マーカーをカスタマイズ
      url: /tutorial/005/
---

## 地図のマーカーの色をカスタマイズする

デフォルトの地図に表示されるマーカーの色は `data-marker-color` 属性を使用してカスタマイズすることができます。

```html
<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-marker-color="#003399"
>東京ディズニーランド</div>
```

<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-marker-color="#003399"
>東京ディズニーランド</div>

`ragba(255, 0, 0, 0.4)` のように指定することで透過度を指定することもできます。

## カスタムマーカーを使用する

Geolonia 地図では、JavaScript を書かなくても簡単に独自のマーカーを表示することができます。

<div id="custom-marker-1" class="custom-marker"><img src="/img/custom-marker.png" alt=""></div>

<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-custom-marker="#custom-marker-1"
  data-custom-marker-offset="0, 0"
>東京ディズニーランド</div>

カスタムマーカーを使用するには、まずマーカー用の HTML を用意します。

```html
<div class="custom-marker">
  <img src="/img/custom-marker.png" alt="">
</div>
```

このマーカーには任意の ID 属性やクラス属性をセットして、CSS セレクタで指定できるようにしてください。この例では、`custom-marker` という ID をセットしています。

次に、`data-marker` 属性で、CSS セレクタと同じフォーマットで先程のマーカーを指定してください。

```html
<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-custom-marker="#custom-marker"
  data-custom-marker-offset="0, 0"
>東京ディズニーランド</div>
```

必要に応じて、CSS でマーカーの見た目を調整してください。

```css
#custom-marker
{
  width: 50px;
  height: 50px;
  cursor: pointer;
  display: none;
}

#custom-marker img
{
  max-width: 100%;
  height: auto;
}
```

### マーカーの位置を調整する

デフォルトでは、マーカーの中心点が指定された緯度経度にセットされます。

一方で、マーカーが矢印であるケースでは、マーカーの位置を微調整したい場合もあるでしょう。

その場合は `data-marker-offset` 属性を使用して調整することができます。

`data-marker-offset` には、マーカーの中心を基準にした xy 座標を `data-marker-offset="0, 0"` のように指定してください。たとえば、マーカー用のエレメントのサイズが、50 x 50 ピクセルで、マーカーの位置をマーカー用の要素の左下に合わせたい場合は、`[25, -25]` （右に25、上に25ずらすという意味）と指定してください。

```html
<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-custom-marker="#custom-marker-2"
  data-custom-marker-offset="25, -25"
>東京ディズニーランド</div>
```

<div id="custom-marker-2" class="custom-marker"><img src="/img/marker-pen.svg" alt=""></div>

<div
  class="geolonia"
  data-lat="35.632546"
  data-lng="139.881328"
  data-zoom="16"
  data-custom-marker="#custom-marker-2"
  data-custom-marker-offset="25, -25"
>東京ディズニーランド</div>

### カスタムマーカーのサンプルコード

カスタムマーカーのサンプルコードは以下の URL でも見ることができます。

* [ソースコード](https://github.com/geolonia/docs.geolonia.com/blob/master/examples/5-1.html)
* [プレビュー](/examples/5-1.html)
